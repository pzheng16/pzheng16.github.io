---
layout:     post
title:      C++ Basics
subtitle:   C++/C
date:       2020-03-12
author:     PZ
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - C++
    - Fundamentals
---

## 左值和右值

左值（lvalue）：指向内存位置的表达式被称为左值（lvalue）表达式。左值可以出现在赋值号的左边或右边。
右值（rvalue）：术语右值（rvalue）指的是存储在内存中某些地址的数值。右值是不能对其进行赋值的表达式，也就是说，右值可以出现在赋值号的右边，但不能出现在赋值号的左边。

## 变量类型

```c++
int a = 0; //全局初始化区 
char *p1; //全局未初始化区 
main() 
{ 
    int b; //栈 
    char s[] = "abc"; //栈 
    char *p2; //栈 
    char *p3 = "123456"; //123456\0在常量区，p3在栈上。 
    static int c =0； //全局（静态）初始化区 
    p1 = (char *)malloc(10); //堆 
    p2 = (char *)malloc(20);  //堆 
}
```
#### 栈比堆快的原因

1. 栈是连续的地址
2. 栈由于更经常使用，所以会被加载到高速缓存上面。

## c++ STL

容器，算法，还有迭代器:iterator

包括顺序容器，和关联容器（key-value)

### Vector:

O(1) 快速访问，除了删除最后一个，其他操作都是O(n)；当我们新建一个vector的时候，会首先分配给他一片连续的内存空间，如std::vector<int> vec，当通过push_back向其中增加元素时，如果初始分配空间已满，就会引起vector扩容，其扩容规则在gcc下以2倍方式完成


在插入位置和删除位置之后的所有迭代器和指针引用都会失效，同理，扩容之后的所有迭代器指针和引用也都会失效。

### Map, mutliplemap
底层数据结构均为红黑树，查找，插入和删除都是O(n)
### unordered_map
底层数据结构是hash_table。要看有没有冲突
### priority_queue 通过heap实现
取出最大元素是O(1),插入和删除都是O(logN)
### List
双向链表：支持快速删除，增加
### queue,deque
queue 是单向队列，先入先出
deque 双向队列，可以在头尾两端实现高效的插入和删除；两边都可以双向

## Sort

![img](https://raw.githubusercontent.com/pzheng16/pzheng16.github.io/master/img/parallel/24.png)


## C++ Peking University

### Inline

![img](https://raw.githubusercontent.com/pzheng16/pzheng16.github.io/master/img/c++/1.png)

Inline functions can get avoid extra run-time stacks of function calls.

### Overloading
![img](https://raw.githubusercontent.com/pzheng16/pzheng16.github.io/master/img/c++/2.png)

it can have two definitions, leading to errors

It is called re-definition when only return values is different

### lack of arguments 实参

![img](https://raw.githubusercontent.com/pzheng16/pzheng16.github.io/master/img/c++/3.png)

Increase the scalability of softwares; you don't need to modify function calls.

## Object-Oriented Programming

Easy to test, modify and expanse

Sizeof(class) = size of class variables.

Only "=" can be used before overloading

![img](https://raw.githubusercontent.com/pzheng16/pzheng16.github.io/master/img/c++/4.png)

### Member Range

private (by default), public, protected

![img](https://raw.githubusercontent.com/pzheng16/pzheng16.github.io/master/img/c++/5.png)